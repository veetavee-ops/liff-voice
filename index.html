<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏Å‡πá‡∏ö‡πÉ‡∏´‡πâ - ‡∏ï‡∏±‡∏ß‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏ö‡∏ö</title>
    <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
    <style>
        body { font-family: sans-serif; text-align: center; padding: 40px 20px; }
        .btn { background: #00B900; color: #fff; border: none; padding: 20px; border-radius: 40px; font-size: 20px; width: 100%; font-weight: bold; }
        #errorLog { color: red; margin-top: 20px; font-size: 14px; background: #fff0f0; padding: 10px; border-radius: 10px; display: none; }
    </style>
</head>
<body>
    <h2>üé§ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏≠‡∏±‡∏î‡πÄ‡∏™‡∏µ‡∏¢‡∏á</h2>
    <button class="btn" id="voiceBtn">‡∏Å‡∏î‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏≠‡∏±‡∏î‡πÄ‡∏™‡∏µ‡∏¢‡∏á</button>
    <div id="status" style="margin-top:20px; color: #666;">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏ä‡πá‡∏Å‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå...</div>
    <div id="errorLog"></div>

    <script>
        async function start() {
            try {
                await liff.init({ liffId: "2009031318-2mGj5MQZ" });
                if (!liff.isLoggedIn()) { liff.login(); }
                else {
                    document.getElementById('status').innerText = "‚úÖ ‡∏£‡∏∞‡∏ö‡∏ö SDK ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à";
                    document.getElementById('voiceBtn').onclick = function() {
                        try {
                            // ‡∏•‡∏≠‡∏á‡πÄ‡∏õ‡∏¥‡∏î‡∏î‡πâ‡∏ß‡∏¢‡∏ß‡∏¥‡∏ò‡∏µ‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô
                            window.location.href = "line://nv/voiceRecorder/";
                        } catch (e) {
                            showError("‡∏õ‡∏∏‡πà‡∏°‡∏Å‡∏î‡∏û‡∏±‡∏á: " + e.message);
                        }
                    };
                }
            } catch (err) {
                showError("‡∏£‡∏∞‡∏ö‡∏ö LINE ‡∏ö‡∏•‡πá‡∏≠‡∏Å: " + err.code + " - " + err.message);
            }
        }
        function showError(msg) {
            const log = document.getElementById('errorLog');
            log.style.display = 'block';
            log.innerText = msg;
        }
        start();
    </script>
</body>
</html>
